<!doctype html>
<html>
<head>
    <meta charset="utf-8"><meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="./css/api.css">
    <!--[if IE]> 
    <![endif]-->
    <title>我在</title>
   <style type="text/css">
    div {
        height: 2000px;
        width: 50px;
        border: 1px solid #000;
    }
   </style>
</head>
<body>
<button onclick="abc()">点击</button>
</body>
</html>
<script src='./script/api.js'></script>
<script type="text/javascript" src="./script/common.js"></script>

<script type="text/javascript">


// var a = 'asdasda;'
// a=a.substring(0,a.length-1)
// console.log(a)
// do{
//     alert('\u8001\u5a46\u6211\u7231\u4f60')
// }while('\u7231')

var  a = "Zaa"
console.log(a[0])

var obj =  [
            {
                "user_id": 358,
                "nickname": "刘欣",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            },
            {
                "user_id": 359,
                "nickname": "杨慧",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            },
            {
                "user_id": 360,
                "nickname": "李新新",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            },
            {
                "user_id": 361,
                "nickname": "姗鸿",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            },
            {
                "user_id": 362,
                "nickname": "鲍思学北京新",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            },
            {
                "user_id": 363,
                "nickname": "孙博泓",
                "head_img_url": "http://wozai.tonyliangli.cn/uploads/images/default_head_img.png",
                "current_company": null,
                "current_position": null
            }
        ]

// 排序
// 
// 
    for (var i = 0; i < obj.length; i++) {
        obj[i].litter = ConvertPinyin(obj[i].nickname);
        obj[i].title = obj[i].nickname;
        obj[i].img = obj[i].head_img_url;

    }
      // 排序
    function litterSort(data) {
        for (var i = 0; i < data.length; i++) {
            for (var j = 0; j < data.length; j++) {
                if (data[i].litter < data[j].litter) {
                    var temp = data[i];
                    data[i] = data[j];
                    data[j] = temp;
                }
            }
         }
         for (var i = 0; i < data.length; i++) {
             data[0].flag = data[0].litter[0]
            if (i>0) {
                if (data[i].litter[0] !== data[i-1].litter[0]) {
                    data[i].flag = data[i].litter[0]
                }
            }
         
         }
        var arr = {}
        for (var i = 0; i < data.length; i++) {
            var a;
            if (data[i].flag) {
                arr[data[i].flag] = [];
                a = i;
            }
            arr[data[a].flag].push (data[i])
        }
        return arr;
    }

console.log(litterSort(obj))

</script>


