<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"><meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css"/>
    <style>
        .title {
            margin-top: .37rem;
            border-top: .01rem solid #E4E4E4;
            border-bottom: .01rem solid #E4E4E4;
            background-color: #fff;
            height: 1.6rem;
            
            font-size: 0;
            padding: 0 .3rem;
            
            display: -webkit-box; 
            display: flex;
            -webkit-box-align: center;
            align-items: center; 
        }
        .headImg {
            margin-right: .2rem;
        }
        .title img {
            width: .91rem;
            height: .91rem;
            border-radius: .1rem;
        }
        .title p,
        .titleRight p {
            font-size: .22rem;
            color: #999;
        }
        .titleRight {
           /* display: -webkit-box; 
            display: flex;
            -webkit-box-align: start ;
            align-items: flex-start;
             -webkit-box-direction: normal;
             flex-direction: column;*/
            width: 6rem; 
        }
        .titleRight {
            font-size: .24rem;
        }
        .titleRight .name {
            height: .3rem;
            font-size: 0;
            width: 100%;
            display: -webkit-box; 
            display: flex;
            -webkit-box-align: center ;
            align-items: center;
            -webkit-box-pack: justify;
            justify-content: space-between;
            /*margin-bottom: .1rem;*/
        }
        .titleRight .name h3 {
            font-size: .3rem;
            line-height: .42rem;
            margin-right: .03rem;
        }
        .titleRight .sexIcon {
            margin-left: .2rem;
            width: .21rem;
            height: .21rem;
            background: url(../../image/icon_my/icon_my01.png)no-repeat;
            -webkit-background-size: .21rem .21rem;
            background-size: .21rem .21rem;
            /*float: left;*/

        }
        .titleRight .sexIcon2 {
            background: url(../../image/icon_my/icon_my02.png)no-repeat;
            -webkit-background-size: .21rem .21rem;
            background-size: .21rem .21rem;
        }
        .company {
            display: -webkit-box; 
            display: flex;
            -webkit-box-align: center ;
            align-items: center; 
            width: 100%;
            -webkit-box-pack: justify;
            justify-content: space-between;
            position: relative;
        }
        .company p {
            font-size: .24em;
        }
        .company .companyName  {
            margin-bottom: .1rem;
            font-size: .24rem;
            color: #555;
            line-height: .33rem;
            /*letter-spacing: -.026rem;*/
            
        }
        .company .companyArrow {
            position: absolute;
            right: 0;
            top: .1rem;
            width: .14rem;
            height: .23rem;
            background: url(../../image/icon_zk.png)no-repeat;
            -webkit-background-size: .`14rem .23rem;
            background-size: .14rem .23rem;
            background-position: 0 bottom;
        }
        .wran {
            text-align: center;
            font-size: .24rem;
            line-height: .5rem;
            color: #9b9b9b;
            margin-top: .05rem;
        }

        .business {
            margin-top: .37rem;
            height: 1.2rem;
            font-size: 0;
            display: -webkit-box; 
            display: flex;
            background-color: #fff;
            width: 100%;
        }
        .business>div {
            width: 33.3%;
            line-height: .7rem;
            text-align: center;font-size: .28rem;
            color: #333;
            box-sizing: border-box;

        }
        .business .supplyIcon {
            display: inline-block;
            width: .44rem;
            height: .7rem;
            background: url(../../image/icon_my/icon_gdd.png)no-repeat;
            -webkit-background-size: .44rem .43em;
            background-size: .44rem .43rem;
            background-position: 0 center;
            vertical-align: bottom;
            margin-right: .1rem;

        }
        .business p {
            line-height: .4rem;
            font-size: .24rem;
            color: #555;
        }
        .ask {
            
        }
        .ask>div {
            position: absolute;
            width: 33.33%;
            margin-top: .18rem;
            height: .8rem;
            border-right: .01rem solid #D8D8D8;
            border-left: .01rem solid #D8D8D8;
        }
        .business .askIcon {
            display: inline-block;
            width: .44rem;
            height: .7rem;
            background: url(../../image/icon_my/icon_qdd.png)no-repeat;
            -webkit-background-size: .44rem .32rem;
            background-size: .44rem .32rem;
            background-position: 0 center;
            vertical-align: bottom;
            margin-right: .1rem;
        }
        .business .circleIcon {
            display: inline-block;
            width: .44rem;
            height: .7rem;
            background: url(../../image/icon_my/icon_wdq.png)no-repeat;
            -webkit-background-size: .42rem .42rem;
            background-size: .42rem .42rem;
            background-position: 0 center;
            vertical-align: bottom;
            margin-right: .1rem;
        }
        
        .mt20 {
            margin-top: .2rem;
            padding-right: 0;
            border-bottom: 0;
        }
        .wrap1 {
            padding-right: 0;
            border-bottom: 0;
        }
        .wrap {
            border-bottom: .01rem solid #d9d9d9;
            box-sizing: border-box;
            height: .8rem;
            padding-right: .3rem;
        }
        ul li {
            line-height: .8rem;
            height: .8rem;
            font-size: 0;
            padding: 0 .3rem;
            background-color: #fff;
            border-bottom: .01rem solid #d9d9d9;
        }
        ul li span {
            font-size: .28rem;
            color: #333;
            max-width: 4.5rem;
            white-space:nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        ul li .icon {
            display: inline-block;
            width: .15rem;
            height: .8rem;
            background: url(../../image/icon_zk.png)no-repeat;
            -webkit-background-size: .15rem .25rem;
            background-size: .15rem .25rem;
            background-position: 0 center;
            float: right;
        }
        ul li .liRight{
            color: #999;
            margin-right: .2rem;
            float: right;
        }
        ul li .liRightIcon {
            float: right;
            display: inline-block;
            background: url(../../image/tx_4.jpg);
            width: .749rem;
            height: .458rem;
            -webkit-background-size: .749rem auto;
            background-size: .749rem auto;
            margin-top: .17rem;
            margin-right: .2rem;
            background-position: 0 center;

        }
        ul li img {
            margin-top: .17rem;
            width: .749rem;
            height: .458rem;
        }
        .btn {
            width: 6.785rem;
            height: .841rem;
            border-radius: .06rem;
            background-color: #27B24A;
            border: 1px solid #27B24A;
            margin: 0 auto;
            line-height: .841rem;
            text-align: center;
            font-size: .34rem;
            color: #fff;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .activeTime {
            font-size: .22rem;
            position: relative;
        }
        .shadow {
            width: .56rem;
            height: .3rem;
            /*background-color: rgba(129,129,129,0.95);*/
            background: url(../../image/icon_txl/icon_shadow.png)no-repeat;
            -webkit-background-size: .56rem .3rem;
            background-size: .56rem .3rem;
            /*border-radius: .15rem;*/
            position: absolute;
            top: 0;
            left: 0;

        }
        .nameNo1 {
            display: -webkit-box;
            display: flex;
            -webkit-box-align: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <!-- <p class="wran">加入会员后可查看对方最近一次活跃时间</p> -->
    <div class="main">
        <div class="title">
            <div class="headImg">
                <img id="head_img_url" src="../../image/icon_defaultHead.png">
            </div>
            <div class="titleRight flex-def flex-zTopBottom">
                <div class="name">
                    <div class="nameNo1">
                        <h3 id="nickname">陈胜东</h3>
                        <span id="sex" class="sexIcon"></span>
                    </div>
                  <!--   <div class="activeTime">
                        <span class="shadow"></span>
                        1天前活跃
                    </div> -->
                </div>
                <div class="company ">
                    <span class="companyName">
                        <span id="current_company">第一学</span> 
                        <span id="current_position">项目经理</span> 
                    </span>
                </div>
                <p >加入会员后可查看对方最近一次活跃时间</p>
            </div>
        </div>
        <div class="business">
           <div class="supply">
               <span class="supplyIcon"></span>
               <p class="text">供订单</p>
           </div>
           <div class="ask">
               <div></div>
                    <span class="askIcon"></span>
                    <p class="text">求订单</p>
               
           </div>
           <div class="circle">
               <span class="circleIcon"></span>
               <p class="text">参与的圈</p>
           </div>
        </div>
        <ul class="mt20">
            <li tapmode="hover" onclick="openInfo(this)" data-val="friendContact">
                <span>熟识好友，点击查看您与他的交集</span>
                <span class="icon"></span>
            </li>
            <li class="mt20" tapmode="hover" onclick="openInfo(this)" data-val="mainPhone">
               <div class="wrap">
                    <span>电话：</span>
                    <span id="phone"></span>
                    <span class="icon"></span>
               </div>
            </li>
            <li tapmode="hover" onclick="openInfo(this)" data-val="otherContact">
                <!-- <div class="wrap"> -->
                    <span>其他联系方式</span>
                    <span class="icon"></span>
                <!-- </div> -->
            </li>
             <li tapmode="hover" onclick="openInfo(this)" data-val="address">
                <span>地址</span>
                <span class="icon"></span>
            </li>
            <li tapmode="hover" onclick="openInfo(this)" data-val="label">
                <span>备注</span>
                <span class="icon"></span>
                <!-- <img class="liRight" src="../../image/tx_4.jpg"> -->
                <span class="liRightIcon"></span>
            </li>
            <li class="mt20" tapmode="hover" onclick="openInfo(this)" data-val="companyPage">
                <div class="wrap">
                    <span>上海策赢网络科技 董事长</span>
                    <span class="icon"></span>
                    <span class="liRight">默认</span>
                </div>
            </li>
            <li>
                <span>中央财经大学 工商管理 硕士</span>
                <span class="icon"></span>
            </li>
           
            
           
            <li class="mt20" tapmode="hover" onclick="openInfo(this)" data-val="study">
                <div class="wrap">
                    <span>学习经历</span>
                    <span class="icon"></span>
                </div>
            </li>
            <li tapmode="hover" class="wrap1" onclick="openInfo(this)" data-val="workExper">
                <div class="wrap">
                    <span>工作经历</span>
                    <span class="icon"></span>
                </div>
            </li>
             <li onclick="openInfo(this)" data-val="project">
                <span>项目业绩</span>
                <span class="icon"></span>
            </li>
             <li class="mt20">
                <div class="wrap">
                    <span>家乡：</span>
                    <span id="hometown"></span>
                    <span class="icon"></span>
                </div>
            </li>
            <li>
                <span>生日：</span>
                <span id="birthday"></span>
                <span class="icon"></span>
            </li>
        </ul>

        <div class="btn"   tapmode="hover"   onclick="addFriends()">
            加为好友
        </div>
    </div>
    
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/common.js"></script>
<script type="text/javascript">
    apiready = function(){
        moduleInit();
        requireData();
    };
    // 获取会员信息
    function requireData() {
        api.ajax({
            url: apiSite + '/api/user/detail',
            method: 'post',
            headers: apiHeader,
            data: {
                   values: { 
                       token: $api.getStorage('userToken'),
                       user_id: api.pageParam.userId
                   }
            }
        }, function(ret, err) {
            if(ret) {
                console.log(JSON.stringify(ret))
                initPage(ret.data)
            } else {
                alert(JSON.stringify(err))
            }
        })
    }
    // 初始化页面
    function initPage(data) {
        var nickname = $api.byId('nickname');
        var sex = $api.byId('sex');
        var head_img_url = $api.byId('head_img_url');
        var phone = $api.byId('phone');
        var hometown = $api.byId('hometown');
        var birthday = $api.byId('birthday');
        var current_company = $api.byId('current_company');
        var current_position = $api.byId('current_position');

        if (data.info.current_position != null) {
            $api.text(current_position, data.info.current_position);
        }
        if (data.info.current_company != null) {
            $api.text(current_company, data.info.current_company);
        }

        $api.text(nickname, data.info.nickname);
        $api.text(hometown, data.info.hometown);
        $api.text(birthday, data.info.birthday);
        $api.text(phone, data.contact.phone);
        $api.attr(phone, 'data-contactId', data.contact.contact_id);
        $api.attr(head_img_url, 'src', data.info.head_img_url);
        if (data.info.sex === 2 ) {
            $api.addCls(sex, 'sexIcon2');
        }
    }
    function addFriends() {
        api.openWin({
            name: 'txl_addFriendsInfo',
            url: './txl_addFriendsInfo.html',
            bounces: false
        });
    }
    function openInfo(ele) {
        var val = $api.attr(ele, 'data-val');
        api.openWin({
            name: 'txl_addFellow_'+val+'_win.html',
            url: './txl_addFellow_'+val+'_win.html',
            // url: './txl_addFellow_address_win.html',
            pageParam: {
                userId: api.pageParam.userId
            },
            bounces: false
        });
    }
</script>
</html>