<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"><meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css"/>
    <style>
        body,html {
            width: 100%;
        }
        .main {
            font-size: 0;
            width: 100%;
        }
        .ipt {
            width: 100%;
            background-color: #EFEFF4;
            font-size: 0;
            padding: .15rem .15rem;
            box-sizing: border-box;
        }
        .ipt input {
            font-size: .24rem;
            width: 6.4rem;
            height: .503rem;
            outline: none;
            background: #fff url(../../image/icon_supply/icon_search.png)no-repeat;
            -webkit-background-size: .25rem .26rem;
            background-size: .25rem .26rem;
            background-position: .15rem center;
            border: .01rem solid #DDDEE2;
            padding-left: .5rem;
            box-sizing: border-box;
        }
        /*input::-webkit-input-placeholder{
            text-align: center;
        }*/       
        .hisSearch {
            font-size: 0;
        }
        .hisSearch .title {
            height: .65rem;
            padding: 0 .3rem;
            font-size: .28rem;
            color: #333;
            line-height: .65rem;
            float: left;
            width: 100%;
            box-sizing: border-box;
        }
        .hisSearch .delIcon {
            display: inline-block;
            width: .25rem;
            height: .65rem;
            background: url(../../image/icon_other/icon_delet.png)no-repeat;
            -webkit-background-size: .25rem .28rem;
            background-size: .25rem .28rem;
            background-position: 0 center;
            float: right;
        }
        .hisSearchContent {
            padding: 0 .3rem;
            font-size: 0;
        }
        .hisSearchContent .hisSearchItem {
            font-size: .24rem;
            line-height: .52rem;
            padding: 0 .24rem;
            background-color: #fff;
            margin-right: .2rem;
            margin-bottom: .2rem;
        }

        .allSearch {
            font-size: 0;
            margin-top: .4rem;
        }
        .allSearch .title2 {
            font-size: .3rem;
            line-height: .4rem;
            text-align: center;
        }
        .allSearch ul {
            width: 100%;
            box-sizing: border-box;
            padding: 0 .3rem;
        }
        .allSearch ul li {
            font-size: .28rem;
            color: #0ABB07;
            letter-spacing: .078rem;
            width: 33.3%;
            box-sizing: border-box;
            border-right: .01rem solid #d9d9d9;
            float: left;
            text-align: center;
            line-height: .4rem;
            margin-top: .5rem;
            padding: 0 .1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .allSearch ul li:nth-child(3n) {
            border: 0;
        }
        .filter {
            width: .64rem;
            height: .5rem;
            background: url(../../image/icon_supply/icon_sx.png)no-repeat;
            -webkit-background-size: .35rem .35rem;
            background-size: .35rem .35rem;
            background-position: center center;
            margin-left: .1rem;
            float: right;
        }
    </style>
</head>
<body>
    <div class="main">
        <div class="ipt ">
            <input type="text" placeholder="搜索">
            <span class="filter" tapmode onclick="openFilter()"></span>
        </div>
    </div>
    <!-- <div class="hisSearch clearfix">
        <div class="title clearfix">
            <span>历史搜索</span>
            <span class="delIcon"   tapmode   onclick="clearHis()"></span>
           
        </div>
        <div class="hisSearchContent clearfix resultList">
            <span class="hisSearchItem">公司</span>
            <span class="hisSearchItem">个人</span>
            <span class="hisSearchItem">互联网</span>
            <span class="hisSearchItem">互联网</span>
            <span class="hisSearchItem">互联网</span>
            <span class="hisSearchItem">互联网互联网</span>
        </div>
        <script type="text/x-dot-template" id="listT">
            {{ for (var i = 0; i < it.length; i++) { }} 
                 <span class="hisSearchItem">{{=it[i]}}</span>
            {{ }; }}
        </script>
        <div class="allSearch">
            <p class="title2 clearfix">大家都在搜</p>
            <ul>
                <li>儿童摄影</li>
                <li>儿童摄影</li>
                <li>儿童摄影</li>
                <li>儿童摄影儿童摄影</li>
                <li>儿童摄影</li>
                <li>儿童摄影</li>
            </ul>
        </div>
    </div> -->
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/common.js"></script>
<script type="text/javascript" src="../../script/doT.min.js"></script>

<script type="text/javascript">
    var data = [],parameter,selectedObj,type;
    apiready = function(){
        // getData(data);
        console.log('参数::'+JSON.stringify(api.pageParam))
        $api.addEvt($api.dom('input'), 'keyup', function(e) {
            var iputText = $api.val($api.dom('input'));
                // if (e.keyCode == 13) {
                data.push(iputText);
                api.openFrame({
                    name: 'supply_searchSupplyFruit_frame',
                    url: './supply_searchSupplyFruit_frame.html',
                    rect: {
                        x: 0,
                        y: api.pageParam.headerH + $api.offset($api.dom('.ipt')).h,
                        w: 'auto',
                        h: 'auto'
                    },
                    pageParam: {
                        keyword: iputText,
                        typePage: api.pageParam.typePage,
                    },
                    bounces: true
                });
                api.sendEvent({
                    name: 'searchSupply2',
                    extra: {
                        keyword: iputText
                    }
                });
                    // }
                    
                // }
                if (iputText == '') {
                    api.closeFrame({
                        name: 'supply_searchSupplyFruit_frame'
                    });
                    getData(data);
                }
                
            // }
        });
        api.addEventListener({
            name: 'searchSupply3'
        }, function(ret, err) {
            if (ret) {
                // // alert(JSON.stringify(ret));
                parameter = ret.value.parameter
                api.pageParam.type = ret.value.type
                selectedObj = ret.value.selectedObj
            } else {
                // alert(JSON.stringify(err));
            }
        });
    };
    // getData(data);
    function delIcon(ele) {
        
    }
    function openFilter() {
        $api.dom('input').blur();
        api.openFrame({
            name: 'supply_slideFrame_3',
            url: './supply_slideFrame_3.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 'auto'
            },
            pageParam: {
                type: api.pageParam.type,
                parameter: parameter,
                selectedObj: selectedObj,
            },
            bounces: false
        });
    }
    function clearHis() {
        data = []
        // getData(data);
    }
</script>
</html>