    <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"><meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
   <style>
    *{
        font-family:'microsoft yahei';
        height:30px;
        line-height:30px;
    }
    input{
        width:100px;
        border: 1px solid #000;
        font-size: 20px;
    }
</style>
</head>
<body>
    <div class="mui-input-row">
      <!-- <label>金额<span>(元)</span></label> -->
      <input type="tel" class="capital mui-input-clear" value="0.00">
      <input type = "text" name= "price" id = 'price' onkeyup="fun(this)" />

    </div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script>
function fun(argument) {
    var val = $api.val(argument);
    val.replace(/^([0-4][0-9]{4}|[0-9]{1,4})(\.[0-9][0-9]?)?$/,'')

    console.log(val)
    console.log(/^([0-4][0-9]{4}|[0-9]{1,4})(\.[0-9][0-9]?)?$/.test(val))
    // if ($api.val(argument))
}
/*投资本金仅能输入数字和小数点*/
var precapital;
document.querySelector('.capital').addEventListener('focus', function() {
    if (this.value == '0.00') {
        this.value = '';
    } else {
        this.value = this.value.replace(/\.00/, '').replace(/(\.\d)0/, '$1');
    }
    precapital = this.value;
});
document.querySelector('.capital').addEventListener('keyup', function() {

    this.value = this.value.replace(/^[\.]/, '').replace(/[^\d.]/g, '');
    if (this.value.split(".").length - 1 > 1) {
        this.value = precapital;
    }
    precapital = this.value;
});
document.querySelector('.capital').addEventListener('blur', function() {
    this.value = this.value.replace(/[\.]$/, '');
    this.value = Number(this.value).toFixed(2);
});
</script>
</html>